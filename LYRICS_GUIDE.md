# 歌词功能使用指南

## 功能概述

Kanade音乐播放器现在支持LRC格式歌词显示，包括：
- 逐行歌词显示
- 逐字歌词显示（增强LRC格式）
- 自动跟随播放进度
- 歌词高亮显示

## 使用方法

### 1. 添加歌词文件

将`.lrc`歌词文件放在与音乐文件相同的目录下，文件名需要与音乐文件同名。

例如：
```
音乐文件：song.mp3
歌词文件：song.lrc
```

### 2. 歌词格式

#### 标准LRC格式
```
[ti:歌曲标题]
[ar:艺术家]
[al:专辑]

[00:10.00]这是第一句歌词
[00:15.50]这是第二句歌词
[00:20.00]这是第三句歌词
```

#### 增强LRC格式（逐字歌词）
```
[ti:歌曲标题]
[ar:艺术家]

[00:10.00]<00:10.00>逐<00:10.50>字<00:11.00>歌<00:11.50>词<00:12.00>示例
[00:15.00]普通歌词行
```

### 3. 查看歌词

在播放器页面底部，点击"歌词"图标即可打开歌词页面。

## 歌词文件示例

项目根目录下提供了几个示例歌词文件：
- `1864932183.lrc` - 《悔やむと書いてミライ》
- `1864931358.lrc` - 《携帯恋話》
- `2713560379.lrc` - 《flos》
- `2728094400.lrc` - 《アイリッド》

## 技术实现

### 主要类

- `LyricsService` - 歌词解析服务
- `LyricsPage` - 歌词显示页面
- `LyricLine` - 歌词行数据模型
- `WordTiming` - 逐字歌词时间信息

### 功能特性

1. **自动检测歌词文件**：自动查找与音乐文件同名的.lrc文件
2. **时间同步**：根据播放进度自动滚动到当前歌词
3. **逐字高亮**：支持逐字歌词的实时高亮显示
4. **平滑滚动**：歌词切换时有平滑的动画效果

### 扩展功能

如需添加更多功能，可以扩展以下部分：
- 支持多语言歌词
- 在线歌词下载
- 歌词编辑功能
- 歌词翻译显示

## 注意事项

1. 歌词文件编码建议使用UTF-8
2. 时间标签格式必须为[mm:ss.xx]或[mm:ss.xxx]
3. 逐字歌词时间标签格式为<mm:ss.xx>
4. 确保歌词文件与音乐文件在同一目录下
